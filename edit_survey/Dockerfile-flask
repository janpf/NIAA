FROM ubuntu:rolling

RUN apt-get update
RUN apt-get install -y python3 python3-pip python3-gi python3-gi-cairo gobject-introspection libgirepository1.0-dev gcc libcairo2-dev pkg-config python3-dev gegl gir1.2-gegl-0.4

COPY ./requirements-flask.txt /app/requirements-flask.txt
WORKDIR /app
RUN pip3 install -r requirements-flask.txt

COPY . /app

CMD ["gunicorn", "-b", "0.0.0.0:5000", "webserver:load_app()"]
