FROM python:3.7

RUN apt-get update
RUN apt-get install -y libgirepository1.0-dev python3-dev python3-gi python3-gi-cairo gegl gir1.2-gegl-0.4

COPY ./edit_survey/requirements-flask.txt /app/edit_survey/
WORKDIR /app
RUN pip install -r ./edit_survey/requirements-flask.txt

COPY . /app

CMD ["gunicorn", "-b", "0.0.0.0:5000", "edit_survey.webserver:load_app()"]
