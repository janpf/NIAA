<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Image Aesthetic Assessment</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/beerslider/dist/BeerSlider.css">
    <style>
        body {
            width: 70%;
            max-width: 1300px;
            margin: 2em auto;
            font: .9em/1.2 Arial, Helvetica, sans-serif;
            display: grid;
            grid-template-columns: 1fr 50px 1fr;
            grid-auto-rows: minmax(100px, auto);
            grid-gap: 30px;
            /* center all the things */
            justify-content: center;
            justify-items: center;
            align-items: center;
            text-align: center;

        }

        form {
            width: 100%;
            height: 100%;
        }

        form>input {
            width: 100%;
            height: auto;
        }

        form>input[type=image] {
            height: 30vh;
            width: auto;
        }

        .headline {
            grid-row: 1;
        }

        .welcome {
            grid-row: 2;
            line-height: 1.5;
            display: inline-block;
            vertical-align: middle;
        }

        .wide {
            grid-column: 1 / -1;
        }

        #compareImg {
            max-height: 100%;
            max-width: 100%;
            height: auto;
            width: auto;
        }

        .comparison {
            grid-row: 3;
            position: relative;
            height: 40vh;
            width: auto;
        }

        #overlay {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .left {
            grid-row: 4;
            grid-column: 1;
        }

        .right {
            grid-row: 4;
            grid-column: 3;
        }

        .lower {
            grid-row: 5;
        }
    </style>
    <script>
        function changeImage() {
            var image = document.getElementById('compareImg');
            if (image.dataset.side.match("left")) {
                image.src = "{{ rightImage | safe }}";
                image.dataset.side = "right";
                document.getElementById("overlay").innerHTML = "right";
            } else {
                image.src = "{{ leftImage | safe }}";
                image.dataset.side = "left";
                document.getElementById("overlay").innerHTML = "left";
            }
        }
    </script>
</head>

<body>
    <h1 class="headline wide">Image Aesthetic Assessment</h1>
    <div class="welcome wide">Servus,bitte mal das, wo Ã¤sthetischer anklicken. kthxbai.</div>

    <div class="comparison wide">
        <img id="compareImg" onclick="changeImage()" data-side="left" src="{{ leftImage }}">
        <div id="overlay" onclick="changeImage()" class="badge badge-secondary">left (click here to change)</div>
    </div>

    <form class="left" action="/poll" method="post">
        <input type="hidden" name="hash" value="{{ hash }}">
        <input type="hidden" name="img" value="{{ img }}">
        <input type="hidden" name="parameter" value="{{ parameter }}">
        <input type="hidden" name="leftChanges" value="{{ leftChanges }}">
        <input type="hidden" name="rightChanges" value="{{ rightChanges }}">
        <input type="hidden" name="chosen" value="leftImage">
        <input type="image" src="{{ leftImage }}">
    </form>
    <form class="right" action="/poll" method="post">
        <input type="hidden" name="hash" value="{{ hash }}">
        <input type="hidden" name="img" value="{{ img }}">
        <input type="hidden" name="parameter" value="{{ parameter }}">
        <input type="hidden" name="leftChanges" value="{{ leftChanges }}">
        <input type="hidden" name="rightChanges" value="{{ rightChanges }}">
        <input type="hidden" name="chosen" value="rightImage">
        <input type="image" src="{{ rightImage }}">
    </form>


    <form class="left lower" action="/poll" method="post">
        <input type="hidden" name="hash" value="{{ hash }}">
        <input type="hidden" name="img" value="{{ img }}">
        <input type="hidden" name="parameter" value="{{ parameter }}">
        <input type="hidden" name="leftChanges" value="{{ leftChanges }}">
        <input type="hidden" name="rightChanges" value="{{ rightChanges }}">
        <input type="hidden" name="chosen" value="unsure">
        <button type="submit" class="btn btn-outline-secondary btn-lg btn-block">ðŸ¤· can't decide /
            unsure</button>
    </form>
    <form class="right lower" action="/poll" method="post">
        <input type="hidden" name="hash" value="{{ hash }}">
        <input type="hidden" name="img" value="{{ img }}">
        <input type="hidden" name="parameter" value="{{ parameter }}">
        <input type="hidden" name="leftChanges" value="{{ leftChanges }}">
        <input type="hidden" name="rightChanges" value="{{ rightChanges }}">
        <input type="hidden" name="chosen" value="error">
        <button type="submit" class="btn btn-outline-secondary btn-lg btn-block">something's wrong</button>
    </form>
</body>

</html>
